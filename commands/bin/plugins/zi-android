#!/bin/bash

#        name: zi-android
# description: Utils for Android development
#       alias: [android]; a=android; ha="help android"; alc="android logcat"; acp="android create"
#      author: eggcaker <eggcaker@gmail.com>
#     updated: 2013-12-12

function android_create_project() {
    name="$1"
    android create project -p ./${name}Test -k org.iemacs.android.${name} -a ${name}Activity -n ${name}Test -t android-19

    echo "application-package=org.iemacs.android.$1" >> ./${name}Test/build.properties
    echo "main-activity=$1Activity" >> ./${name}Test/build.properties

    pdir=`pwd`/${name}Test

    cd "$pdir" 
    echo "bin\ngen" >> .gitignore
    git init 
    git add . 
    git commit -m 'init test repo'

    emacsclient -n `pwd`/src/org/iemacs/android/${name}/${name}Activity.java

}

cmd=$2;

# stupid and best way to handle th args

arg1=$3;
arg2=$4;
arg3=$5;
arg4=$6
arg5=$7;
arg6=$8;
arg7=$9;
arg8=$10;

case $cmd in
    "logcat")
        adb -d logcat
        ;;
    "create")
        android_create_project $arg1 $arg2 $arg3 $arg4 $arg5 $arg6 $arg7 $arg8
        ;;
    "rank")
        
        ;;
    *)
        echo "Usage: zi android <command>"
        echo "zi help andoroid  - show more help"
        ;;
esac


